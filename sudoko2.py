#530070000600195000098000060800060003400803001700020006060000280000419005000080079
#000003200007050010400009000000080500700000006008020000000600002020090600009700000
#000200060006709000005001004400000000030060010000000005700300200000504600090007000
#020000860040002130000840000800000300500000006007000009000078000039200050015000070
#907000000060409807508000060006500709700061000050800306800300402090080070604090103
#604000708095071000100048006001000900000397054709000800500060400400003020060004075
#908005000000000000007000005020000070000000000034080600000000002050000300010030900
#070001903002600000000807064000003090201000608960100000640710385008340000723590016

while True:
    inp = input("sudoku: ")
    if inp == "end":
        break

    st = ""
    p = [[int(inp[i + (a * 9)]) for i in range(0, 9)] for a in range(0, 9)]

    def s(p, a=0, b=0):
        global st
        if a == 9:
            return True
        elif b == 9:
            return s(p, a+1, 0)
        elif p[a][b] != 0:
            return s(p, a, b+1)
        else:
            for k in range(1, 10):
                if (k not in p[a]) and (k not in [p[x][b] for x in range(0, 9)]) and (k not in [p[i][j] for i in range(a // 3 * 3, a // 3 * 3 + 3) for j in range(b // 3 * 3, b // 3 * 3 + 3)]):
                    p[a][b] = k
                    st += str(k)
                    if s(p, a, b+1):
                        return True
                    p[a][b] = 0
                    st = st[:-1]
            return False

    s(p)
    for j in p:
        print(j)
    print(st)
    